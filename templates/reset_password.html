<style>
    body {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 80vh;
    }
    form {
        width: 300px;
        margin: 0 auto;
        display: flex;
        flex-direction: column;
        gap: 10px;
    }
</style>
<form action="{{ url_for('auth.reset_password', token=token) }}" method="post">
    <label for="password">New Password:</label>
    <input type="password" name="password" id="password" onkeyup="checkPasswordMatch();" required>
    <label for="confirm_password">Confirm Password:</label>
    <input type="password" name="confirm_password" id="confirm_password" onkeyup="checkPasswordMatch();" required>
    <span id="match-indicator"></span>
    <button type="submit" disabled>Reset Password</button>
</form>

<script>
    function checkPasswordMatch() {
        var password = document.getElementById("password");
        var confirmPassword = document.getElementById("confirm_password");
        var matchIndicator = document.getElementById("match-indicator");
        var submitButton = document.querySelector("button[type='submit']");

        if (password.value !== confirmPassword.value) {
            matchIndicator.innerHTML = "✖";
            matchIndicator.style.color = "red";
            submitButton.disabled = true;
        } else {
            matchIndicator.innerHTML = "✔";
            matchIndicator.style.color = "green";
            submitButton.disabled = false;
        }
    }
</script>
